(function(t){function e(e){for(var n,i,s=e[0],u=e[1],c=e[2],d=0,l=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&l.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);f&&f(e);while(l.length)l.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==o[s]&&(n=!1)}n&&(a.splice(e--,1),t=u(u.s=r[0]))}return t}var n={},i={app:0},o={app:0},a=[];function s(t){return u.p+"js/"+({"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp":"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp",Homerun:"Homerun",Login:"Login",OrderHistory:"OrderHistory",OrderList:"OrderList",ProductDetail:"ProductDetail",ProductList:"ProductList",Profile:"Profile",ShoppingList:"ShoppingList",SignUp:"SignUp"}[t]||t)+"."+{"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp":"aba220bc",Homerun:"bce25592",Login:"79a96f12",OrderHistory:"744cf652",OrderList:"93fcf797",ProductDetail:"25a50ecb",ProductList:"46a9ce70",Profile:"feb0cfab",ShoppingList:"8d00a81c",SignUp:"f65f64e6"}[t]+".js"}function u(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(t){var e=[],r={"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp":1,Homerun:1,Login:1,OrderHistory:1,OrderList:1,ProductDetail:1,ProductList:1,Profile:1,ShoppingList:1,SignUp:1};i[t]?e.push(i[t]):0!==i[t]&&r[t]&&e.push(i[t]=new Promise((function(e,r){for(var n="css/"+({"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp":"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp",Homerun:"Homerun",Login:"Login",OrderHistory:"OrderHistory",OrderList:"OrderList",ProductDetail:"ProductDetail",ProductList:"ProductList",Profile:"Profile",ShoppingList:"ShoppingList",SignUp:"SignUp"}[t]||t)+"."+{"Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp":"4d9fd071",Homerun:"637fbef9",Login:"95b6da05",OrderHistory:"becebef5",OrderList:"9395b091",ProductDetail:"eb5af418",ProductList:"349df0b2",Profile:"545c0402",ShoppingList:"63a89f8f",SignUp:"27a85ce4"}[t]+".css",o=u.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===n||d===o))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){c=l[s],d=c.getAttribute("data-href");if(d===n||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete i[t],f.parentNode.removeChild(f),r(a)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){i[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(t);var l=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(f);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,r[1](l)}o[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=n,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/yama-clark-website/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var f=d;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}}),r("router-view")],1)},o=[],a=r("5530"),s=r("2f62"),u={data:function(){return{}},methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["authAction","getAllProduct"])),{},{toTop:function(){window.scrollTo({top:0})}}),mounted:function(){this.toTop(),this.authAction(),this.getAllProduct()}},c=u,d=(r("5c0b"),r("2877")),l=Object(d["a"])(c,i,o,!1,null,null,null),f=l.exports,p=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f"));n["a"].use(p["a"]);var h=[{path:"/",name:"homerun",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("Homerun")]).then(r.bind(null,"f94e"))}},{path:"/productlist",name:"productlist",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("ProductList")]).then(r.bind(null,"96fc"))}},{path:"/productdetail/:id",name:"productdetail",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("ProductDetail")]).then(r.bind(null,"5f47"))}},{path:"/shoppinglist",name:"shoppinglist",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("ShoppingList")]).then(r.bind(null,"697f"))}},{path:"/orderlist",name:"orderlist",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("OrderList")]).then(r.bind(null,"bf4b"))}},{path:"/login",name:"login",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("Login")]).then(r.bind(null,"a55b"))}},{path:"/signup",name:"signup",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("SignUp")]).then(r.bind(null,"5c9c"))}},{path:"/orderhistory",name:"orderhistory",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("OrderHistory")]).then(r.bind(null,"3ed5"))}},{path:"/profile",name:"profile",component:function(){return Promise.all([r.e("Homerun~Login~OrderHistory~OrderList~ProductDetail~ProductList~Profile~ShoppingList~SignUp"),r.e("Profile")]).then(r.bind(null,"c66d"))}}],g=new p["a"]({routes:h}),m=g,L=(r("ac1f"),r("841c"),r("99af"),r("159b"),r("caad"),r("2532"),r("d81d"),r("b64b"),r("a434"),r("4e82"),r("a9e3"),r("4f60"));r("256a"),r("1862"),r("2979");n["a"].use(s["a"]);var P=new s["a"].Store({state:{user:null,error:null,userList:[],allProduct:[],currentProduct:[],orderHistory:[],loading:!1,tag:[],search:"",chat:[],chatList:[],showChat:!1,chatError:null},mutations:{setUser:function(t,e){t.user=e},setError:function(t,e){t.error=e},setUserList:function(t,e){t.userList=e},setAllProduct:function(t,e){t.allProduct=e},setCurrentProduct:function(t,e){t.currentProduct=e},setOrderHistory:function(t,e){t.orderHistory=e},setLoading:function(t,e){t.loading=e},setTag:function(t,e){t.tag=e},setSearch:function(t,e){t.search=e},setChat:function(t,e){t.chat=e},setChatList:function(t,e){t.chatList=e},setShowChat:function(t,e){t.showChat=e},setChatError:function(t,e){t.chatError=e}},actions:{authAction:function(t){var e=t.commit,r=t.dispatch;e("setLoading",!0),L["a"].auth().onAuthStateChanged((function(t){t?(e("setUser",t),r("getUserList"),r("getOrderHistory"),r("getChat")):(e("setUser",null),e("setUserList",null),e("setLoading",!1),e("setChatList",[]),e("setShowChat",!1))}))},signUpAction:function(t,e){var r=t.commit;L["a"].auth().createUserWithEmailAndPassword(e.email,e.password).catch((function(t){r("setError",t.message)}))},signInAction:function(t,e){var r=t.commit;L["a"].auth().signInWithEmailAndPassword(e.email,e.password).catch((function(t){r("setError",t.message),console.log(t)}))},signOutAction:function(t){var e=t.commit;L["a"].auth().signOut().then((function(){e("setUser",null)})).catch((function(t){e("setError",t.message)}))},addProduct:function(t,e){var r=t.state,n=e.product,i=[];i.push(n);var o=L["a"].auth().currentUser.uid,a=r.userList,s=!1;if(a)for(var u=0;u<a.length;u++)a[u].imagePath===i[0].imagePath&&(s=!0);if(null==r.userList)L["a"].database().ref("users").child(r.user.uid).set(i);else if(s)for(var c=0;c<a.length;c++)a[c].imagePath===i[0].imagePath&&function(){var t=L["a"].database().ref("users/"+o+"/"+c);t.once("value",(function(e){var r=e.val(),n={count:r.count+1};t.update(n)}))}();else{var d=a.concat(i);L["a"].database().ref("users").child(r.user.uid).set(d)}},addProductDetail:function(t){var e=t.state;L["a"].database().ref("users").child(e.user.uid).push(e.currentProduct)},getUserList:function(t){var e=t.state,r=t.commit;return L["a"].database().ref("users/"+e.user.uid).on("value",(function(t){r("setUserList",t.val()),r("setLoading",!1)}))},getAllProduct:function(t){var e=t.state,r=t.commit;if(!(e.tag.length>=1))return L["a"].database().ref("productList/0").on("value",(function(t){var e=t.val(),n=Object.keys(e).map((function(t){return e[t]}));r("setAllProduct",n)}));var n=[];e.allProduct.forEach((function(t){e.tag.every((function(e){return t.tag.includes(e)}))&&n.push(t)})),r("setAllProduct",n)},searchlProduct:function(t){var e=t.state,r=t.commit,n=t.dispatch,i=[];""!==e.search?e.allProduct.forEach((function(t){t.productId===e.search&&(i.push(t),r("setAllProduct",i))})):n("getAllProduct")},deleteProduct:function(t,e){var r=t.state,n=e.index;r.userList.splice(n,1),L["a"].database().ref("users").child(r.user.uid).set(r.userList)},addCount:function(t,e){var r=t.getters,n=e.item,i=e.index,o=L["a"].auth().currentUser.uid,a=L["a"].database().ref("users/"+o+"/"+i),s={count:n.count+1};a.update(s),console.log(r)},minusCount:function(t,e){var r=t.getters,n=e.item,i=e.index,o=L["a"].auth().currentUser.uid,a=L["a"].database().ref("users/"+o+"/"+i);if(n.count>=2){var s={count:n.count-1};a.update(s)}console.log(r)},routerToDetail:function(t,e){var r=t.getters,n=e.index;console.log(r),m.push({name:"productdetail",params:{id:n}})},setCurrentProduct:function(t){var e=t.commit,r=m.currentRoute.params.id,n=r;return L["a"].database().ref("productList/0/"+n).on("value",(function(t){e("setCurrentProduct",t.val())}))},getOrderHistory:function(t){var e=t.state,r=t.commit;return L["a"].database().ref("history/"+e.user.uid).on("value",(function(t){r("setOrderHistory",t.val())}))},confirmOrder:function(t){var e=t.state;if(null!=e.orderHistory){var r=e.orderHistory.concat(e.userList);L["a"].database().ref("history").child(e.user.uid).set(r);var n=L["a"].auth().currentUser.uid,i=L["a"].database().ref("users/"+n);i.remove(),m.push({name:"orderhistory"})}else{L["a"].database().ref("history").child(e.user.uid).set(e.userList);var o=L["a"].auth().currentUser.uid,a=L["a"].database().ref("users/"+o);a.remove(),m.push({name:"orderhistory"})}},clearHistory:function(){var t=L["a"].auth().currentUser.uid,e=L["a"].database().ref("history/"+t);e.remove()},bigToSmall:function(t){var e=t.state;e.allProduct.sort((function(t,e){return e.price-t.price}))},smallToBig:function(t){var e=t.state;e.allProduct.sort((function(t,e){return t.price-e.price}))},chatEnter:function(t){var e=t.state,r=t.commit;if(e.user){var n=L["a"].auth().currentUser.uid,i=L["a"].database().ref("chat/"+n),o=i.push().key;""!==e.chat&&i.child(o).set({chat:e.chat,time:Date.now()}),e.chat=""}else r("setChatError","You have to login")},getChat:function(t){var e=t.state,r=t.commit;return L["a"].database().ref("chat/"+e.user.uid).on("value",(function(t){if(t.val()){var e=Object.keys(t.val()).map((function(e){return t.val()[e]}));e.reverse(),r("setChatList",e)}}))},deleteChat:function(t){var e=t.commit,r=L["a"].auth().currentUser.uid,n=L["a"].database().ref("chat/"+r);n.remove(),e("setChatList",[])}},getters:{getUser:function(t){return t.user},isUserAuth:function(t){return!!t.user},getError:function(t){return t.error},totalPrice:function(t){var e=0;for(var r in t.userList)e+=Number(t.userList[r].price*t.userList[r].count);return e},shoppingCount:function(t){if(t.userList){var e=Object.keys(t.userList).map((function(e){return t.userList[e]})),r=e.length;return r}},tempUserList:function(t){if(null===t.userList){var e=[0];return e}var r=Object.keys(t.userList).map((function(e){return t.userList[e]}));return r}}});r("15f5"),r("7051");n["a"].config.productionTip=!1;var v={apiKey:"AIzaSyAbYLUVJYoITGNvgeEJiLWKwlvEZEgsn7M",authDomain:"yama-website.firebaseapp.com",databaseURL:"https://yama-website-default-rtdb.firebaseio.com",projectId:"yama-website",storageBucket:"yama-website.appspot.com",messagingSenderId:"1094650287749",appId:"1:1094650287749:web:b011ea45db8ec625e5bbec",measurementId:"G-6TTRYFGB6X"};L["a"].initializeApp(v),new n["a"]({router:m,store:P,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"9c0c":function(t,e,r){}});
//# sourceMappingURL=app.133dc8b5.js.map